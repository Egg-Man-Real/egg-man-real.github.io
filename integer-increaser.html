<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title id="title">Integer Increaser - 0 Int</title>
  <link href="integer-increaser.css" rel="stylesheet" type="text/css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Cabin:wght@600&display=swap" rel="stylesheet">
<style>
p {
font-size: 75%;
font-family: 'Cabin', sans-serif;
}
.intCounter {
font-size: 320%;
}
.perSecond {
font-size: 200%;
}
</style>
</head>
<p id="Count" class="intCounter"></p>
<p id="intPerSecond" class="perSecond"></p>
<button onclick="basicClicker()" tabindex="-1">Click to increment</button>
<p></p>
<button onclick="upgrade()" tabindex="-1" >Upgrade</button>
<p id="currentCost"></p>
<p id="upgrade"></p>
<button onclick="idleLevel()" tabindex="-1">Buy an indentured servant</button>
<p id="idleCost"></p>
<p>He is unpaid, and he is happy.</p>
<p>He also lives in the factory and has an 18-hour work day.</p>
<p>His 6 hours off he spends working because it's all he knows.</p>
<p id="idleLv">You have 0 employees.</p>
<button onclick="domainLevel()" tabindex="-1">Buy a domain expansion.</button>
<p id="domainCost"></p>
<p>Yeah we aren't sure how you can just buy that.</p>
<p id="domainLevel"></p>
<button onclick="buyGod()" tabindex="-1">Bribe God</button>
<p id = "godCost"></p>
<p id = "godLv"></p> 
<button onclick="wasteMoney()" tabindex="-1">Buy a dry cranberry.</button>  
<p id = "cranberryCost"></p>
<p id = "cranberryCount"></p>
<p id=showChangelog onclick="changelogReal()">Click to show/hide changelog.</p>
<script>
  var intPerSecond = parseInt(localStorage.getItem('intPerSecond')) || 0;
  var lastKnownTime = parseInt(localStorage.getItem('lastKnownTime')) || Math.round(Date.now() / 1000);
  var pageLoadTime = Math.round(Date.now() / 1000);
  var int = parseInt(localStorage.getItem('int')) || 0;
  var mult = parseInt(localStorage.getItem('mult')) || 0;
  var currentCost = parseInt(localStorage.getItem('currentCost')) || 5;
  var idle = parseInt(localStorage.getItem('idle')) || 0;
  var idleCost = parseInt(localStorage.getItem('idleCost')) || 100;
  var domain = parseInt(localStorage.getItem('domain')) || 0;
  var domainCost = parseInt(localStorage.getItem('domainCost')) || 1000;
  var god = parseInt(localStorage.getItem('god')) || 0;
  var godCost = parseInt(localStorage.getItem('godCost')) || 10000;
  var grandMult = parseInt(localStorage.getItem('grandMult')) || 1;
  var changelog = "Added dry cranberries. They don't do anything.";
  var isShownChangelog = 0;//This value doesn't need to be stored.
  var baseValueIdle = 100;
  var baseValueDomain = 1000;
  var baseValueGod = 10000;
  var baseValueCurrentCost = 5;
  var dryCranberryBaseCost = 10000000;
  var dryCranberry = parseInt(localStorage.getItem('dryCranberry')) || 0;
  var dryCranberryCost = parseInt(localStorage.getItem('dryCranberryCost')) || 10000000;
  setAll();
  awayInt();
  function awayInt() {
    if (pageLoadTime > lastKnownTime) {
      int += Math.round((intPerSecond * (pageLoadTime - lastKnownTime))/2)
    }  
  }  
  function wasteMoney() {
    if (int >= dryCranberryCost) {
      dryCranberry += 1;
      int = int-dryCranberryCost;
      dryCranberryCost = Math.round(dryCranberryBaseCost * (10**dryCranberry));
    }  
    document.getElementById("cranberryCost").innerHTML = "The cost to buy a dry cranberry is "+ (dryCranberryCost) + " Int.";
    document.getElementById("cranberryCount").innerHTML = "You have bought " + dryCranberry + " dry Cranberries. Why.";
    update();
  }   
  function changelogReal() {
    if (isShownChangelog == 0) {
      isShownChangelog = 1;
      document.getElementById("showChangelog").innerHTML = changelog;
    } else if (isShownChangelog == 1) {
      isShownChangelog = 0;
      document.getElementById("showChangelog").innerHTML = "Click to show/hide changelog.";
    } 
    
  }  
  function setAll() {
  document.getElementById("Count").innerHTML = (int + " Int.");
  document.getElementById("currentCost").innerHTML = "Current Cost is " + (currentCost) + " Int.";
  document.getElementById("upgrade").innerHTML = "Your current upgrade level is " + mult + ".";
  document.getElementById("idleCost").innerHTML = "Current cost is " + (idleCost) + " Int.";
  document.getElementById("idleLv").innerHTML = "You have " + idle + " employees.";
  document.getElementById("idleCost").innerHTML = "Current cost is " + (idleCost) + " Int.";
  document.getElementById("domainCost").innerHTML = "Current cost is " + (domainCost) + " Int.";
  document.getElementById("domainLevel").innerHTML = "You have " + domain + " sorcerers opening domains.";
  document.getElementById("title").innerHTML = ("Integer Increaser - " + int + " Int");
  document.getElementById("godCost").innerHTML = "The cost to bribe God is "+ (godCost) + " Int.";
  document.getElementById("godLv").innerHTML = "You have bribed God " + god + " times.";
  document.getElementById("intPerSecond").innerHTML = "Your idle int per second is " + ((idle*grandMult)+(domain*3*grandMult)) + " Int/Second.";
  document.getElementById("cranberryCost").innerHTML = "The cost to buy a dry cranberry is "+ (dryCranberryCost) + " Int.";
  document.getElementById("cranberryCount").innerHTML = "You have bought " + dryCranberry + " dry Cranberries. Why.";
  }  
  function saveToLocalStorage() {
  localStorage.setItem('int', int.toString());
  localStorage.setItem('mult', mult.toString());
  localStorage.setItem('currentCost', currentCost.toString());
  localStorage.setItem('idle', idle.toString());
  localStorage.setItem('idleCost', idleCost.toString());
  localStorage.setItem('domain', domain.toString());
  localStorage.setItem('domainCost', domainCost.toString());
  localStorage.setItem('god', god.toString());
  localStorage.setItem('godCost', godCost.toString());
  localStorage.setItem('grandMult', grandMult.toString());
  localStorage.setItem('dryCranberry', dryCranberry.toString());
  localStorage.setItem('dryCranberryCost', dryCranberryCost.toString());
  //localStorage.setItem I need this to copy paste later.
  }
  function buyGod() {
   if (int >= godCost) { 
    god +=1;
    grandMult +=1;
    int = int - (godCost);
     godCost = Math.round(baseValueGod * (3**god));
     update();
   }
    document.getElementById("godCost").innerHTML = "The cost to bribe God is "+ (godCost) + " Int.";
    document.getElementById("godLv").innerHTML = "You have bribed God " + god + " times.";
  }  
  function update() {
  document.getElementById("Count").innerHTML = (int + " Int.");
  document.getElementById("title").innerHTML = ("Integer Increaser - " + int + " Int");
  document.getElementById("intPerSecond").innerHTML = "Your idle int per second is " + ((idle*grandMult)+(domain*3*grandMult)) + " Int/Second.";
  intPerSecond = ((idle*grandMult)+(domain*3*grandMult));//This is important. Control + F to find this in the future.
  saveToLocalStorage();
  } 
  function domainLevel() {
    if (int >= domainCost) {
      domain +=1;
      int = int - (domainCost);
      domainCost = Math.round(baseValueDomain * (1.20**domain));
      update();
    }  
    document.getElementById("domainCost").innerHTML = "Current cost is " + (domainCost) + " Int.";
    document.getElementById("domainLevel").innerHTML = "You have " + domain + " sorcerers opening domains.";
  } 
  function idleLevel() {
  if (int >= idleCost) {
  idle += 1;
  int = int - (idleCost);
  idleCost = Math.round(baseValueIdle * (1.20**idle));
  update();
  }
  document.getElementById("idleCost").innerHTML = "Current cost is " + idleCost + " Int.";
  document.getElementById("idleLv").innerHTML = "You have " + idle + " employees";
  }
  function basicClicker() {
  int += ((1 + mult)*grandMult);
  update();
  }
  function upgrade() {
  if (int >= currentCost) {
  mult += 1;
  int = int - (currentCost);
  currentCost = Math.round(baseValueCurrentCost * (1.20**mult));
  update();
  }
  document.getElementById("currentCost").innerHTML = "Current cost is " + (currentCost) + " Int.";
  document.getElementById("upgrade").innerHTML = "Your current upgrade level is " + mult + ".";
  }
  setInterval(() => {
    int += (idle*grandMult);
    int += (domain*3*grandMult);
    update();
  }, 1000);
  window.addEventListener('beforeunload', lastKnownTime = Math.round(Date.now() / 1000);
</script>

</html>
